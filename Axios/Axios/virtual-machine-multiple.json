{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "operatingSystem": {
      "type": "string",
      "metadata": {
        "description": "The requested Operating System for these domain controllers.",
        "group": "Basic Settings",
        "order": 1,
        "label": "Operating System",
        "question": "What operating system do you want to deploy?",
        "skip": "never"
      },
      "allowedValues": [
        "Windows Server 2016 DataCenter",
        "Windows Server 2012 R2",
        "Windows Server 2008 R2 SP1",
        "Linux - Centos 7",
        "Linux - Redhat 7",
        "Linux - Ubuntu 14.04 LTS",
        "Linux - Ubuntu 16.04 LTS"
      ],
      "defaultValue": "Windows Server 2012 R2"
    },
    "vmNamePrefix": {
      "metadata": {
        "description": "The VM name prefix. Max 14 chars to allow for admin username of the format (vmname-admin)",
        "group": "Basic Settings",
        "order": 2,
        "label": "Name Prefix",
        "question": "What is the name you want to use for this VM? "
      },
      "type": "string",
      "minLength": 3,
      "maxLength": 13,
      "defaultValue": "WIN-IIS-0"
    },
    "vmSize": {
      "type": "string",
      "minLength": 1,
      "defaultValue": "Standard_A1_v2",
      "allowedValues": [
        "Standard_D1_v2",
        "Standard_D2_v2",
        "Standard_D3_v2",
        "Standard_D4_v2",
        "Standard_D5_v2",
        "Standard_D11_v2",
        "Standard_D12_v2",
        "Standard_D13_v2",
        "Standard_D14_v2",
        "Standard_D15_v2",
        "Standard_F1",
        "Standard_F2",
        "Standard_F4",
        "Standard_F8",
        "Standard_F16",
        "Standard_A1_v2",
        "Standard_A2_v2",
        "Standard_A4_v2",
        "Standard_A8_v2",
        "Standard_DS1_v2",
        "Standard_DS2_v2",
        "Standard_DS3_v2",
        "Standard_DS4_v2",
        "Standard_DS5_v2",
        "Standard_DS11_v2",
        "Standard_DS12_v2",
        "Standard_DS13_v2",
        "Standard_DS14_v2",
        "Standard_DS15_v2",
        "Standard_F1s",
        "Standard_F2s",
        "Standard_F4s",
        "Standard_F8s",
        "Standard_F16s",
        "Standard_D1",
        "Standard_D2",
        "Standard_D3",
        "Standard_D4",
        "Standard_D11",
        "Standard_D12",
        "Standard_D13",
        "Standard_D14",
        "Standard_DS1",
        "Standard_DS2",
        "Standard_DS3",
        "Standard_DS4",
        "Standard_DS11",
        "Standard_DS12",
        "Standard_DS13",
        "Standard_DS14",
        "Standard_A8",
        "Standard_A9",
        "Standard_A10",
        "Standard_A11",
        "Standard_NC6",
        "Standard_NC12",
        "Standard_NC24",
        "Standard_NC24r",
        "Standard_NV6",
        "Standard_NV12",
        "Standard_NV24"
      ],
      "metadata": {
        "description": "The size of the virtual machine to create.",
        "group": "Basic Settings",
        "order": 3,
        "label": "Size",
        "question": "Select VM Size",
        "skip": "never"
      }
    },
    "vmCount": {
      "type": "int",
      "minValue": 1,
      "maxValue": 99,
      "defaultValue": 1,
      "metadata": {
        "description": "Number of VMs to deploy behind the same availability set",
        "group": "Basic Settings",
        "order": 4,
        "label": "Number of VMs",
        "question": "How many VMs do you need to deploy (1-99) ?",
        "skip": "never"
      }
    },
    "startIndex": {
      "type": "int",
      "metadata": {
        "description": "The Starting Index for the VM to create (will be used to append a number at the end)",
        "group": "Basic Settings",
        "order": 5,
        "label": "Starting Index",
        "question": "What starting index value (x) do you want to use to append to your VM name?. This number will be increased so for instance if you choose X=1, then the first machine will be named VM-NAME-01, then VM-NAME-02, etc. If you start at X=4, the first VM will be VM-NAME-04 ,VM-NAME-05",
        "skip": "never"
      },
      "minValue": 1,
      "maxValue": 98,
      "defaultValue": 1
    },
    "adminPassword": {
      "metadata": {
        "description": "The password for the admin username (non rack account)",
        "group": "Basic Settings",
        "order": 6,
        "label": "Password",
        "question": "Admin Password",
        "skip": "never"
      },
      "type": "securestring",
      "minLength": 8
    },
    "availabilitySetOption": {
      "defaultValue": "New",
      "metadata": {
        "description": "Specify if you need the new VMs to belong to a new availability set",
        "group": "Basic Settings",
        "order": 7,
        "label": "Availability Set Option",
        "question": "Availability Set Option",
        "skip": "never"
      },
      "allowedValues": [
        "New",
        "None",
        "Existing"
      ],
      "type": "string"
    },
    "availabilitySetName": {
      "defaultValue": "AS-WEB-PRD",
      "metadata": {
        "description": "Name of new/existing availability set for this VM.",
        "group": "Basic Settings",
        "order": 8,
        "label": "Availability Set Name",
        "question": "Availability Set Name",
        "skip": "never"
      },
      "type": "string"
    },
    "storageAccountOption": {
      "type": "string",
      "allowedValues": [
        "New",
        "Existing"
      ],
      "metadata": {
        "description": "Choose Existing for a pre-created storage account, choosing new will automatically create a new storage account.",
        "group": "Storage Settings",
        "order": 1,
        "label": "Storage Account",
        "question": "Do you want to use an Existing or New storage account for this VM",
        "skip": "never"
      },
      "defaultValue": "New"
    },
    "existingStorageAccount": {
      "type": "string",
      "maxLength": 24,
      "metadata": {
        "description": "The name of the existing storage account to use (must be on same resource group as this deployment)",
        "group": "Storage Settings",
        "order": 2,
        "label": "Storage Account",
        "question": "Name of the existing storage account",
        "skip": "never"
      },
      "defaultValue": "existingstorage"
    },
    "storageAccountType": {
      "allowedValues": [
        "Standard_LRS",
        "Standard_GRS",
        "Standard_RAGRS",
        "Standard_ZRS",
        "Premium_LRS"
      ],
      "defaultValue": "Standard_LRS",
      "metadata": {
        "description": "The type of the Storage Account created",
        "group": "Storage Settings",
        "order": 3,
        "label": "Storage Type",
        "question": "Type of storage account",
        "skip": "never"
      },
      "type": "string"
    },
    "numDataDisks": {
      "type": "int",
      "minvalue": 0,
      "maxValue": 63,
      "defaultValue": 1,
      "metadata": {
        "description": "Numbers of data disks to attach (all will be the same size)",
        "group": "Storage Settings",
        "order": 4,
        "label": "Num. of data disks",
        "question": "Number of Data Disks to attach",
        "skip": "never"
      }
    },
    "dataDiskSize": {
      "type": "int",
      "minvalue": 127,
      "maxValue": 1023,
      "defaultValue": 1023,
      "metadata": {
        "description": "The Size of the additional data disks in GB",
        "group": "Storage Settings",
        "order": 5,
        "label": "Size of data disks",
        "question": "Size of Data Disks to attach",
        "skip": "never"
      }
    },
    "diskCaching": {
      "type": "string",
      "metadata": {
        "description": "Specify if you want to enable data disk caching",
        "group": "Storage Settings",
        "order": 6,
        "label": "Disk caching",
        "question": "Disk Caching option",
        "skip": "never"
      },
      "defaultValue": "None",
      "allowedValues": [
        "None",
        "ReadOnly",
        "ReadWrite"
      ]
    },
    "vnetRG": {
      "type": "string",
      "defaultValue": "LOC-RSG-ALL-ENV",
      "minLength": 1,
      "metadata": {
        "description": "The name of the Resource Group where we can find the VNET",
        "group": "Network Settings",
        "order": 1,
        "label": "VNET Resource Group",
        "question": "Number of Data Disks to attach",
        "skip": "never"
      }
    },
    "vnetName": {
      "type": "string",
      "defaultValue": "LOC-VNET01",
      "minLength": 1,
      "metadata": {
        "description": "Name of an existing VMNetwork",
        "group": "Network Settings",
        "order": 2,
        "label": "VNET Name",
        "question": "Name of your existing virtual network",
        "skip": "never"
      }
    },
    "subnetName": {
      "type": "string",
      "defaultValue": "LOC-VNET01-DMZ-ENV",
      "minLength": 1,
      "metadata": {
        "description": "Name of the Subnet inside of the provided VNET where you want to deploy this Virtual Machine.",
        "group": "Network Settings",
        "order": 3,
        "label": "Subnet Name",
        "question": "Subnet Name",
        "skip": "never"
      }
    },
    "lbOption": {
      "defaultValue": "None",
      "metadata": {
        "description": "Specify the type of load balancer required. If selected, the VM must be part of an Availability Set.",
        "group": "Network Settings",
        "order": 4,
        "label": "Load Balancer",
        "question": "Load Balancer",
        "skip": "never"
      },
      "allowedValues": [
        "None",
        "Internal",
        "External"
      ],
      "type": "string"
    },
    "dnsLabel": {
      "defaultValue": "mustbeunique",
      "maxLength": 50,
      "metadata": {
        "description": "DNS Label for the Public IP. Must be lowercase. It should match with the following regular expression: ^[a-z][a-z0-9-]{1,61}[a-z0-9]$ or it will raise an error.",
        "group": "Network Settings",
        "order": 5,
        "label": "DNS Label",
        "question": "DNS Label",
        "skip": "never"
      },
      "type": "string"
    },
    "joinADDoamin": {
      "defaultValue": "No",
      "metadata": {
        "description": "Specify if you need the new VMs to join to an existing Active Directory Domain. Windows Only",
        "group": "Active Directory (Windows Only)",
        "order": 1,
        "label": "Join AD Domain",
        "question": "Join AD domian?",
        "skip": "never"
      },
      "allowedValues": [
        "Yes",
        "No"
      ],
      "type": "string"
    },
    "domainToJoin": {
      "defaultValue": "domaincloud.com",
      "metadata": {
        "description": "The name of the domain to join after this VM has been created",
        "group": "Active Directory (Windows Only)",
        "order": 2,
        "label": "Domain Name (FQDN)",
        "question": "Domain Name (FQDN)",
        "skip": "never"
      },
      "type": "string"
    },
    "organizationalUnit": {
      "defaultValue": "",
      "metadata": {
        "description": "The OU to use when joining this machine to the domain. Leave this blank for default's computers OU. Example: OU=Computers,DC=clouddomain,DC=com",
        "group": "Active Directory (Windows Only)",
        "order": 2,
        "label": "OU Path",
        "question": "Domain Name (FQDN)",
        "skip": "never"
      },
      "type": "string"
    },
    "domainAdminUsername": {
      "type": "string",
      "defaultValue": "administrator",
      "metadata": {
        "description": "Domain Admin username. This account will be used to join the computer to the domain. Do not include domain portion, just username i.e. administrator",
        "group": "Active Directory (Windows Only)",
        "order": 3,
        "label": "Admin Username",
        "question": "Admin username",
        "skip": "never"
      }
    },
    "domainAdminPassword": {
      "type": "securestring",
      "metadata": {
        "description": "Password of the account on the domain that has access to join computers",
        "group": "Active Directory (Windows Only)",
        "order": 4,
        "label": "Admin Password",
        "question": "Admin Password",
        "skip": "never"
      }
    },
    "deployWebServer": {
      "defaultValue": "None",
      "metadata": {
        "description": "Specify if you need to have a web server installed.",
        "group": "Customization Options",
        "order": 1,
        "label": "Install Web Server",
        "question": "Do you need to install a web server?",
        "skip": "never"
      },
      "allowedValues": [
        "Windows - IIS",
        "Linux - Apache",
        "Linux - Nginx",
        "None"
      ],
      "type": "string"
    },
    "timeZone": {
      "type": "string",
      "defaultValue": "(UTC) UTC",
      "allowedValues": [
        "(UTC-12:00) Dateline Standard Time",
        "(UTC-11:00) UTC-11",
        "(UTC-10:00) Aleutian Standard Time",
        "(UTC-10:00) Hawaiian Standard Time",
        "(UTC-09:30) Marquesas Standard Time",
        "(UTC-09:00) Alaskan Standard Time",
        "(UTC-09:00) UTC-09",
        "(UTC-08:00) Pacific Standard Time (Mexico)",
        "(UTC-08:00) UTC-08",
        "(UTC-08:00) Pacific Standard Time",
        "(UTC-07:00) US Mountain Standard Time",
        "(UTC-07:00) Mountain Standard Time (Mexico)",
        "(UTC-07:00) Mountain Standard Time",
        "(UTC-06:00) Central America Standard Time",
        "(UTC-06:00) Central Standard Time",
        "(UTC-06:00) Easter Island Standard Time",
        "(UTC-06:00) Central Standard Time (Mexico)",
        "(UTC-06:00) Canada Central Standard Time",
        "(UTC-05:00) SA Pacific Standard Time",
        "(UTC-05:00) Eastern Standard Time (Mexico)",
        "(UTC-05:00) Eastern Standard Time",
        "(UTC-05:00) Haiti Standard Time",
        "(UTC-05:00) Cuba Standard Time",
        "(UTC-05:00) US Eastern Standard Time",
        "(UTC-04:00) Paraguay Standard Time",
        "(UTC-04:00) Atlantic Standard Time",
        "(UTC-04:00) Venezuela Standard Time",
        "(UTC-04:00) Central Brazilian Standard Time",
        "(UTC-04:00) SA Western Standard Time",
        "(UTC-04:00) Pacific SA Standard Time",
        "(UTC-04:00) Turks And Caicos Standard Time",
        "(UTC-03:30) Newfoundland Standard Time",
        "(UTC-03:00) Tocantins Standard Time",
        "(UTC-03:00) E. South America Standard Time",
        "(UTC-03:00) SA Eastern Standard Time",
        "(UTC-03:00) Argentina Standard Time",
        "(UTC-03:00) Greenland Standard Time",
        "(UTC-03:00) Montevideo Standard Time",
        "(UTC-03:00) Saint Pierre Standard Time",
        "(UTC-03:00) Bahia Standard Time",
        "(UTC-02:00) UTC-02",
        "(UTC-02:00) Mid-Atlantic Standard Time",
        "(UTC-01:00) Azores Standard Time",
        "(UTC-01:00) Cape Verde Standard Time",
        "(UTC) UTC",
        "(UTC+00:00) Morocco Standard Time",
        "(UTC+00:00) GMT Standard Time",
        "(UTC+00:00) Greenwich Standard Time",
        "(UTC+01:00) W. Europe Standard Time",
        "(UTC+01:00) Central Europe Standard Time",
        "(UTC+01:00) Romance Standard Time",
        "(UTC+01:00) Central European Standard Time",
        "(UTC+01:00) W. Central Africa Standard Time",
        "(UTC+01:00) Namibia Standard Time",
        "(UTC+02:00) Jordan Standard Time",
        "(UTC+02:00) GTB Standard Time",
        "(UTC+02:00) Middle East Standard Time",
        "(UTC+02:00) Egypt Standard Time",
        "(UTC+02:00) E. Europe Standard Time",
        "(UTC+02:00) Syria Standard Time",
        "(UTC+02:00) West Bank Standard Time",
        "(UTC+02:00) South Africa Standard Time",
        "(UTC+02:00) FLE Standard Time",
        "(UTC+02:00) Israel Standard Time",
        "(UTC+02:00) Kaliningrad Standard Time",
        "(UTC+02:00) Libya Standard Time",
        "(UTC+03:00) Arabic Standard Time",
        "(UTC+03:00) Turkey Standard Time",
        "(UTC+03:00) Arab Standard Time",
        "(UTC+03:00) Belarus Standard Time",
        "(UTC+03:00) Russian Standard Time",
        "(UTC+03:00) E. Africa Standard Time",
        "(UTC+03:30) Iran Standard Time",
        "(UTC+04:00) Arabian Standard Time",
        "(UTC+04:00) Astrakhan Standard Time",
        "(UTC+04:00) Azerbaijan Standard Time",
        "(UTC+04:00) Russia Time Zone 3",
        "(UTC+04:00) Mauritius Standard Time",
        "(UTC+04:00) Saratov Standard Time",
        "(UTC+04:00) Georgian Standard Time",
        "(UTC+04:00) Caucasus Standard Time",
        "(UTC+04:30) Afghanistan Standard Time",
        "(UTC+05:00) West Asia Standard Time",
        "(UTC+05:00) Ekaterinburg Standard Time",
        "(UTC+05:00) Pakistan Standard Time",
        "(UTC+05:30) India Standard Time",
        "(UTC+05:30) Sri Lanka Standard Time",
        "(UTC+05:45) Nepal Standard Time",
        "(UTC+06:00) Central Asia Standard Time",
        "(UTC+06:00) Bangladesh Standard Time",
        "(UTC+06:00) Omsk Standard Time",
        "(UTC+06:30) Myanmar Standard Time",
        "(UTC+07:00) SE Asia Standard Time",
        "(UTC+07:00) Altai Standard Time",
        "(UTC+07:00) W. Mongolia Standard Time",
        "(UTC+07:00) North Asia Standard Time",
        "(UTC+07:00) N. Central Asia Standard Time",
        "(UTC+07:00) Tomsk Standard Time",
        "(UTC+08:00) China Standard Time",
        "(UTC+08:00) North Asia East Standard Time",
        "(UTC+08:00) Singapore Standard Time",
        "(UTC+08:00) W. Australia Standard Time",
        "(UTC+08:00) Taipei Standard Time",
        "(UTC+08:00) Ulaanbaatar Standard Time",
        "(UTC+08:30) North Korea Standard Time",
        "(UTC+08:45) Aus Central W. Standard Time",
        "(UTC+09:00) Transbaikal Standard Time",
        "(UTC+09:00) Tokyo Standard Time",
        "(UTC+09:00) Korea Standard Time",
        "(UTC+09:00) Yakutsk Standard Time",
        "(UTC+09:30) Cen. Australia Standard Time",
        "(UTC+09:30) AUS Central Standard Time",
        "(UTC+10:00) E. Australia Standard Time",
        "(UTC+10:00) AUS Eastern Standard Time",
        "(UTC+10:00) West Pacific Standard Time",
        "(UTC+10:00) Tasmania Standard Time",
        "(UTC+10:00) Vladivostok Standard Time",
        "(UTC+10:30) Lord Howe Standard Time",
        "(UTC+11:00) Bougainville Standard Time",
        "(UTC+11:00) Russia Time Zone 10",
        "(UTC+11:00) Magadan Standard Time",
        "(UTC+11:00) Norfolk Standard Time",
        "(UTC+11:00) Sakhalin Standard Time",
        "(UTC+11:00) Central Pacific Standard Time",
        "(UTC+12:00) Russia Time Zone 11",
        "(UTC+12:00) New Zealand Standard Time",
        "(UTC+12:00) UTC+12",
        "(UTC+12:00) Fiji Standard Time",
        "(UTC+12:00) Kamchatka Standard Time",
        "(UTC+12:45) Chatham Islands Standard Time",
        "(UTC+13:00) UTC+13",
        "(UTC+13:00) Tonga Standard Time",
        "(UTC+13:00) Samoa Standard Time",
        "(UTC+14:00) Line Islands Standard Time"
      ],
      "metadata": {
        "description": "Timezone to use for this System",
        "group": "Customization Options",
        "order": 2,
        "label": "Timezone",
        "question": "What timezone do you want to use for this server?",
        "skip": "never"
      }
    },
    "applyOSPatches": {
      "defaultValue": "No",
      "metadata": {
        "description": "Choose if you want to install OS patches (adds approx 30 minutes to deployment time)",
        "group": "Customization Options",
        "order": 3,
        "label": "Apply OS Patches",
        "question": "Do you want to apply missing OS patches?",
        "skip": "never"
      },
      "allowedValues": [
        "Yes",
        "No"
      ],
      "type": "string"
    },
    "antiMalware": {
      "defaultValue": "No",
      "metadata": {
        "description": "Specify if you need the new VMs to have anti-malware extension installed (recommended)",
        "group": "Customization Options",
        "order": 4,
        "label": "Antimalware (windows)",
        "question": "Do you want to install microsoft anti-malware agent (windows only)?",
        "skip": "never"
      },
      "allowedValues": [
        "Yes",
        "No"
      ],
      "type": "string"
    },
    "logAnalytics": {
      "defaultValue": "No",
      "metadata": {
        "description": "Specify if you need the new VMs to connect to an OMS workspace.",
        "group": "Customization Options",
        "order": 5,
        "label": "OMS Agent",
        "question": "Do you want to install the OMS agent?",
        "skip": "never"
      },
      "allowedValues": [
        "Yes",
        "No"
      ],
      "type": "string"
    },
    "workspaceId": {
      "defaultValue": "guid",
      "metadata": {
        "description": "Log Analytics workspace id",
        "group": "Customization Options",
        "order": 6,
        "label": "Workspace ID",
        "question": "Workspace ID",
        "skip": "never"
      },
      "type": "string"
    },
    "workspaceKey": {
      "type": "string",
      "metadata": {
        "description": "Log Analytics workspace key",
        "group": "Customization Options",
        "order": 7,
        "label": "Workspace Key",
        "question": "Workspace Key",
        "skip": "never"
      },
      "defaultValue": "key"
    },
    "environment": {
      "type": "string",
      "allowedValues": [
        "Production",
        "Staging",
        "Test",
        "Development",
        "Disaster Recovery",
        "Q/A",
        "Other"
      ],
      "metadata": {
        "description": "The Environment type we are building",
        "group": "Tags",
        "order": 1,
        "question": "Please enter environment type : "
      },
      "defaultValue": "Production"
    },
    "buildDate": {
      "type": "string",
      "metadata": {
        "description": "The date of this build",
        "group": "Tags",
        "order": 2,
        "question": "Please enter todays date (mm/dd/yyyy) : "
      },
      "defaultValue": "mm/dd/yyyy"
    },
    "buildBy": {
      "type": "string",
      "metadata": {
        "description": "The name of the person who build this environment",
        "group": "Tags",
        "order": 3,
        "question": "Please enter your full name : "
      },
      "defaultValue": "First Last"
    },
    "RaxAutomationExclude": {
      "type": "string",
      "allowedValues": [
        "None",
        "Monitoring",
        "Passport",
        "Antimalware"
      ],
      "metadata": {
        "description": "Select the automation type you will like to exclude for this VM",
        "group": "Tags",
        "order": 4,
        "label": "Automation Exluce",
        "question": "Choose the type of automation you will like to exclude this from"
      },
      "defaultValue": "None"
    },
    "assetLocation": {
      "type": "string",
      "metadata": {
        "description": "The asset location",
        "group": "Deployment Settings",
        "order": 1,
        "question": "Enter Asset Location"
      },
      "defaultValue": "https://raxtemplates.blob.core.windows.net/master/"
    },
    "sasToken": {
      "type": "securestring",
      "metadata": {
        "description": "The sas token required to access the assets",
        "group": "Deployment Settings",
        "order": 2,
        "label": "SAS Token",
        "question": "Enter Asset Location"
      }
    }
  },
  "variables": {
    "timeZoneHash": {
      "(UTC-12:00) Dateline Standard Time": "Dateline Standard Time",
      "(UTC-11:00) UTC-11": "UTC-11",
      "(UTC-10:00) Aleutian Standard Time": "Aleutian Standard Time",
      "(UTC-10:00) Hawaiian Standard Time": "Hawaiian Standard Time",
      "(UTC-09:30) Marquesas Standard Time": "Marquesas Standard Time",
      "(UTC-09:00) Alaskan Standard Time": "Alaskan Standard Time",
      "(UTC-09:00) UTC-09": "UTC-09",
      "(UTC-08:00) Pacific Standard Time (Mexico)": "Pacific Standard Time (Mexico)",
      "(UTC-08:00) UTC-08": "UTC-08",
      "(UTC-08:00) Pacific Standard Time": "Pacific Standard Time",
      "(UTC-07:00) US Mountain Standard Time": "US Mountain Standard Time",
      "(UTC-07:00) Mountain Standard Time (Mexico)": "Mountain Standard Time (Mexico)",
      "(UTC-07:00) Mountain Standard Time": "Mountain Standard Time",
      "(UTC-06:00) Central America Standard Time": "Central America Standard Time",
      "(UTC-06:00) Central Standard Time": "Central Standard Time",
      "(UTC-06:00) Easter Island Standard Time": "Easter Island Standard Time",
      "(UTC-06:00) Central Standard Time (Mexico)": "Central Standard Time (Mexico)",
      "(UTC-06:00) Canada Central Standard Time": "Canada Central Standard Time",
      "(UTC-05:00) SA Pacific Standard Time": "SA Pacific Standard Time",
      "(UTC-05:00) Eastern Standard Time (Mexico)": "Eastern Standard Time (Mexico)",
      "(UTC-05:00) Eastern Standard Time": "Eastern Standard Time",
      "(UTC-05:00) Haiti Standard Time": "Haiti Standard Time",
      "(UTC-05:00) Cuba Standard Time": "Cuba Standard Time",
      "(UTC-05:00) US Eastern Standard Time": "US Eastern Standard Time",
      "(UTC-04:00) Paraguay Standard Time": "Paraguay Standard Time",
      "(UTC-04:00) Atlantic Standard Time": "Atlantic Standard Time",
      "(UTC-04:00) Venezuela Standard Time": "Venezuela Standard Time",
      "(UTC-04:00) Central Brazilian Standard Time": "Central Brazilian Standard Time",
      "(UTC-04:00) SA Western Standard Time": "SA Western Standard Time",
      "(UTC-04:00) Pacific SA Standard Time": "Pacific SA Standard Time",
      "(UTC-04:00) Turks And Caicos Standard Time": "Turks And Caicos Standard Time",
      "(UTC-03:30) Newfoundland Standard Time": "Newfoundland Standard Time",
      "(UTC-03:00) Tocantins Standard Time": "Tocantins Standard Time",
      "(UTC-03:00) E. South America Standard Time": "E. South America Standard Time",
      "(UTC-03:00) SA Eastern Standard Time": "SA Eastern Standard Time",
      "(UTC-03:00) Argentina Standard Time": "Argentina Standard Time",
      "(UTC-03:00) Greenland Standard Time": "Greenland Standard Time",
      "(UTC-03:00) Montevideo Standard Time": "Montevideo Standard Time",
      "(UTC-03:00) Saint Pierre Standard Time": "Saint Pierre Standard Time",
      "(UTC-03:00) Bahia Standard Time": "Bahia Standard Time",
      "(UTC-02:00) UTC-02": "UTC-02",
      "(UTC-02:00) Mid-Atlantic Standard Time": "Mid-Atlantic Standard Time",
      "(UTC-01:00) Azores Standard Time": "Azores Standard Time",
      "(UTC-01:00) Cape Verde Standard Time": "Cape Verde Standard Time",
      "(UTC) UTC": "UTC",
      "(UTC+00:00) Morocco Standard Time": "Morocco Standard Time",
      "(UTC+00:00) GMT Standard Time": "GMT Standard Time",
      "(UTC+00:00) Greenwich Standard Time": "Greenwich Standard Time",
      "(UTC+01:00) W. Europe Standard Time": "W. Europe Standard Time",
      "(UTC+01:00) Central Europe Standard Time": "Central Europe Standard Time",
      "(UTC+01:00) Romance Standard Time": "Romance Standard Time",
      "(UTC+01:00) Central European Standard Time": "Central European Standard Time",
      "(UTC+01:00) W. Central Africa Standard Time": "W. Central Africa Standard Time",
      "(UTC+01:00) Namibia Standard Time": "Namibia Standard Time",
      "(UTC+02:00) Jordan Standard Time": "Jordan Standard Time",
      "(UTC+02:00) GTB Standard Time": "GTB Standard Time",
      "(UTC+02:00) Middle East Standard Time": "Middle East Standard Time",
      "(UTC+02:00) Egypt Standard Time": "Egypt Standard Time",
      "(UTC+02:00) E. Europe Standard Time": "E. Europe Standard Time",
      "(UTC+02:00) Syria Standard Time": "Syria Standard Time",
      "(UTC+02:00) West Bank Standard Time": "West Bank Standard Time",
      "(UTC+02:00) South Africa Standard Time": "South Africa Standard Time",
      "(UTC+02:00) FLE Standard Time": "FLE Standard Time",
      "(UTC+02:00) Israel Standard Time": "Israel Standard Time",
      "(UTC+02:00) Kaliningrad Standard Time": "Kaliningrad Standard Time",
      "(UTC+02:00) Libya Standard Time": "Libya Standard Time",
      "(UTC+03:00) Arabic Standard Time": "Arabic Standard Time",
      "(UTC+03:00) Turkey Standard Time": "Turkey Standard Time",
      "(UTC+03:00) Arab Standard Time": "Arab Standard Time",
      "(UTC+03:00) Belarus Standard Time": "Belarus Standard Time",
      "(UTC+03:00) Russian Standard Time": "Russian Standard Time",
      "(UTC+03:00) E. Africa Standard Time": "E. Africa Standard Time",
      "(UTC+03:30) Iran Standard Time": "Iran Standard Time",
      "(UTC+04:00) Arabian Standard Time": "Arabian Standard Time",
      "(UTC+04:00) Astrakhan Standard Time": "Astrakhan Standard Time",
      "(UTC+04:00) Azerbaijan Standard Time": "Azerbaijan Standard Time",
      "(UTC+04:00) Russia Time Zone 3": "Russia Time Zone 3",
      "(UTC+04:00) Mauritius Standard Time": "Mauritius Standard Time",
      "(UTC+04:00) Saratov Standard Time": "Saratov Standard Time",
      "(UTC+04:00) Georgian Standard Time": "Georgian Standard Time",
      "(UTC+04:00) Caucasus Standard Time": "Caucasus Standard Time",
      "(UTC+04:30) Afghanistan Standard Time": "Afghanistan Standard Time",
      "(UTC+05:00) West Asia Standard Time": "West Asia Standard Time",
      "(UTC+05:00) Ekaterinburg Standard Time": "Ekaterinburg Standard Time",
      "(UTC+05:00) Pakistan Standard Time": "Pakistan Standard Time",
      "(UTC+05:30) India Standard Time": "India Standard Time",
      "(UTC+05:30) Sri Lanka Standard Time": "Sri Lanka Standard Time",
      "(UTC+05:45) Nepal Standard Time": "Nepal Standard Time",
      "(UTC+06:00) Central Asia Standard Time": "Central Asia Standard Time",
      "(UTC+06:00) Bangladesh Standard Time": "Bangladesh Standard Time",
      "(UTC+06:00) Omsk Standard Time": "Omsk Standard Time",
      "(UTC+06:30) Myanmar Standard Time": "Myanmar Standard Time",
      "(UTC+07:00) SE Asia Standard Time": "SE Asia Standard Time",
      "(UTC+07:00) Altai Standard Time": "Altai Standard Time",
      "(UTC+07:00) W. Mongolia Standard Time": "W. Mongolia Standard Time",
      "(UTC+07:00) North Asia Standard Time": "North Asia Standard Time",
      "(UTC+07:00) N. Central Asia Standard Time": "N. Central Asia Standard Time",
      "(UTC+07:00) Tomsk Standard Time": "Tomsk Standard Time",
      "(UTC+08:00) China Standard Time": "China Standard Time",
      "(UTC+08:00) North Asia East Standard Time": "North Asia East Standard Time",
      "(UTC+08:00) Singapore Standard Time": "Singapore Standard Time",
      "(UTC+08:00) W. Australia Standard Time": "W. Australia Standard Time",
      "(UTC+08:00) Taipei Standard Time": "Taipei Standard Time",
      "(UTC+08:00) Ulaanbaatar Standard Time": "Ulaanbaatar Standard Time",
      "(UTC+08:30) North Korea Standard Time": "North Korea Standard Time",
      "(UTC+08:45) Aus Central W. Standard Time": "Aus Central W. Standard Time",
      "(UTC+09:00) Transbaikal Standard Time": "Transbaikal Standard Time",
      "(UTC+09:00) Tokyo Standard Time": "Tokyo Standard Time",
      "(UTC+09:00) Korea Standard Time": "Korea Standard Time",
      "(UTC+09:00) Yakutsk Standard Time": "Yakutsk Standard Time",
      "(UTC+09:30) Cen. Australia Standard Time": "Cen. Australia Standard Time",
      "(UTC+09:30) AUS Central Standard Time": "AUS Central Standard Time",
      "(UTC+10:00) E. Australia Standard Time": "E. Australia Standard Time",
      "(UTC+10:00) AUS Eastern Standard Time": "AUS Eastern Standard Time",
      "(UTC+10:00) West Pacific Standard Time": "West Pacific Standard Time",
      "(UTC+10:00) Tasmania Standard Time": "Tasmania Standard Time",
      "(UTC+10:00) Vladivostok Standard Time": "Vladivostok Standard Time",
      "(UTC+10:30) Lord Howe Standard Time": "Lord Howe Standard Time",
      "(UTC+11:00) Bougainville Standard Time": "Bougainville Standard Time",
      "(UTC+11:00) Russia Time Zone 10": "Russia Time Zone10",
      "(UTC+11:00) Magadan Standard Time": "Magadan Standard Time",
      "(UTC+11:00) Norfolk Standard Time": "Norfolk Standard Time",
      "(UTC+11:00) Sakhalin Standard Time": "Sakhalin Standard Time",
      "(UTC+11:00) Central Pacific Standard Time": "Central Pacific Standard Time",
      "(UTC+12:00) Russia Time Zone 11": "Russia Time Zone11",
      "(UTC+12:00) New Zealand Standard Time": "New Zealand Standard Time",
      "(UTC+12:00) UTC+12": "UTC+12",
      "(UTC+12:00) Fiji Standard Time": "Fiji Standard Time",
      "(UTC+12:00) Kamchatka Standard Time": "Kamchatka Standard Time",
      "(UTC+12:45) Chatham Islands Standard Time": "Chatham Islands Standard Time",
      "(UTC+13:00) UTC+13": "UTC+13",
      "(UTC+13:00) Tonga Standard Time": "Tonga Standard Time",
      "(UTC+13:00) Samoa Standard Time": "Samoa Standard Time",
      "(UTC+14:00) Line Islands Standard Time": "Line Islands Standard Time"
    },
    "availabilitySetHash": {
      "New": {
        "AvailabilitySetTemplateURL": "[concat(parameters('assetLocation'),'resources/partials/availabilityset-ON.json')]",
        "VMTemplateURL": "[concat(parameters('assetLocation'),'resources/partials/vm-availabilityset-ON.json')]"
      },
      "None": {
        "AvailabilitySetTemplateURL": "[concat(parameters('assetLocation'),'resources/partials/availabilityset-OFF.json')]",
        "VMTemplateURL": "[concat(parameters('assetLocation'),'resources/partials/vm-availabilityset-OFF.json')]"
      },
      "Existing": {
        "AvailabilitySetTemplateURL": "[concat(parameters('assetLocation'),'resources/partials/availabilityset-OFF.json')]",
        "VMTemplateURL": "[concat(parameters('assetLocation'),'resources/partials/vm-availabilityset-ON.json')]"
      }
    },
    "domainJoinHash": {
      "Yes": {
        "JoinDomainTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/joinDomain-ON.json')]"
      },
      "No": {
        "JoinDomainTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/joinDomain-OFF.json')]"
      }
    },
    "webServerHash": {
      "Windows - IIS": {
        "ConfigData": "[concat(parameters('assetLocation'),'resources/scripts/ConfigDataWeb.psd1')]"
      },
      "Linux - Apache": {
        "ConfigData": "[concat(parameters('assetLocation'),'resources/scripts/ConfigDataWeb.psd1')]"
      },
      "Linux - Nginx": {
        "ConfigData": "[concat(parameters('assetLocation'),'resources/scripts/ConfigDataWeb.psd1')]"
      },
      "None": {
        "ConfigData": "[concat(parameters('assetLocation'),'resources/scripts/ConfigDataWindows.psd1')]"
      }
    },
    "osHash": {
      "Windows Server 2016 DataCenter": {
        "imagePublisher": "MicrosoftWindowsServer",
        "imageOffer": "WindowsServer",
        "imageSKU": "2016-Datacenter",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-ON.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/dsc-windows-adc.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsWindows.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-windows-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-ON.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Windows Server 2016 Nano Server": {
        "imagePublisher": "MicrosoftWindowsServer",
        "imageOffer": "WindowsServer",
        "imageSKU": "2016-Nano-Server",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-ON.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/dsc-windows-adc.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsWindows.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-windows-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-ON.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Windows Server 2012 R2": {
        "imagePublisher": "MicrosoftWindowsServer",
        "imageOffer": "WindowsServer",
        "imageSKU": "2012-R2-Datacenter",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-ON.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/dsc-windows-adc.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsWindows.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-windows-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-ON.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Windows Server 2008 R2 SP1": {
        "imagePublisher": "MicrosoftWindowsServer",
        "imageOffer": "WindowsServer",
        "imageSKU": "2008-R2-SP1",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-ON.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/customizeWindows2008.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsWindows.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-windows-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-ON.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Windows SQL Server 2016 Standard": {
        "imagePublisher": "MicrosoftSQLServer",
        "imageOffer": "SQL2016-WS2012R2",
        "imageSKU": "Standard",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-ON.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/dsc-windows-adc.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsWindows.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-windows-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-ON.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Windows SQL Server 2016 Standard - BYOL": {
        "imagePublisher": "MicrosoftSQLServer",
        "imageOffer": "SQL2016-WS2012R2-BYOL",
        "imageSKU": "Standard",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-ON.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/dsc-windows-adc.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsWindows.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-windows-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-ON.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Windows SQL Server 2014 SP1 Standard": {
        "imagePublisher": "MicrosoftSQLServer",
        "imageOffer": "SQL2014SP1-WS2012R2",
        "imageSKU": "Standard",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-ON.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/dsc-windows-adc.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsWindows.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-windows-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-ON.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Windows SQL Server 2014 SP1 Standard - BYOL": {
        "imagePublisher": "MicrosoftSQLServer",
        "imageOffer": "SQL2014SP1-WS2012R2-BYOL",
        "imageSKU": "Standard",
        "version": "12.0.444999",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/dsc-windows-adc.json')]",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-ON.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsWindows.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-windows-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-ON.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Windows SQL Server 2014 Express Edition": {
        "imagePublisher": "MicrosoftSQLServer",
        "imageOffer": "SQL2014SP1-WS2012R2",
        "imageSKU": "Express",
        "version": "latest",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/dsc-windows-adc.json')]",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-ON.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsWindows.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-windows-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-ON.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Windows SQL Server 2012 SP3 Standard": {
        "imagePublisher": "MicrosoftSQLServer",
        "imageOffer": "SQL2012SP3-WS2012R2",
        "imageSKU": "Standard",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-ON.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/dsc-windows-adc.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsWindows.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-windows-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-ON.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Windows SQL Server 2008 SP3 Standard": {
        "imagePublisher": "MicrosoftSQLServer",
        "imageOffer": "SQL2008R2SP3-WS2008R2SP1",
        "imageSKU": "Standard",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-ON.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/customizeWindows2008.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsWindows.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-windows-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-ON.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Linux - RedHat 7": {
        "imagePublisher": "RedHat",
        "imageOffer": "RHEL",
        "imageSKU": "7.2",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-OFF.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsLinux-OFF.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/customizeLinux.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-linux-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Linux - Centos 7": {
        "imagePublisher": "OpenLogic",
        "imageOffer": "CentOS",
        "imageSKU": "7.2",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-OFF.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/customizeLinux.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsLinux-OFF.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-linux-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Linux - Ubuntu 14.04 LTS": {
        "imagePublisher": "Canonical",
        "imageOffer": "UbuntuServer",
        "imageSKU": "14.04.4-LTS",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-OFF.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/customizeLinux.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsLinux-OFF.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-linux-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      },
      "Linux - Ubuntu 16.04 LTS": {
        "imagePublisher": "Canonical",
        "imageOffer": "UbuntuServer",
        "imageSKU": "16.04.0-LTS",
        "version": "latest",
        "bginfoTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/bginfo-OFF.json')]",
        "customizeOS": "[concat(parameters('assetLocation'),'resources/extensions/customizeLinux.json')]",
        "enableDiagnostics": "[concat(parameters('assetLocation'),'resources/extensions/diagnosticsLinux-OFF.json')]",
        "logAnalyticsHash": {
          "Yes": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-linux-ON.json')]"
          },
          "No": {
            "logAnalytics": "[concat(parameters('assetLocation'),'resources/extensions/oms-OFF.json')]"
          }
        },
        "enableAntiMalwareHash": {
          "Yes": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          },
          "No": {
            "AntiMalwareTemplateURL": "[concat(parameters('assetLocation'),'resources/extensions/antimalware-OFF.json')]"
          }
        }
      }
    },
    "loadBalancerHash": {
      "Internal": {
        "nicTemplateURL": "[concat(parameters('assetLocation'),'resources/partials/partial-nic-ilb.json')]"
      },
      "External": {
        "nicTemplateURL": "[concat(parameters('assetLocation'),'resources/partials/partial-nic-elb.json')]"
      },
      "InternalAndExternal": {
        "nicTemplateURL": "[concat(parameters('assetLocation'),'resources/partials/TODO.json')]"
      },
      "None": {
        "nicTemplateURL": "[concat(parameters('assetLocation'),'resources/partials/partial-nic-nolb.json')]"
      }
    },
    "storageAccountHash": {
      "New": {
        "storageTemplateURL": "[concat(parameters('assetLocation'),'storage/storageaccount.json')]",
        "storageSuffix": "[toLower(replace(parameters('vmNamePrefix'),'-',''))]"
      },
      "Existing": {
        "storageTemplateURL": "[concat(parameters('assetLocation'),'storage/storageaccount-existing.json')]",
        "storageSuffix": "[parameters('existingStorageAccount')]"
      }
    },
    "myAvailabilitySetTemplateURL": "[concat(variables('AvailabilitySetHash')[parameters('availabilitySetOption')].AvailabilitySetTemplateURL)]",
    "myVMTemplateURL": "[concat(variables('AvailabilitySetHash')[parameters('availabilitySetOption')].VMTemplateURL)]",
    "imagePublisher": "[concat(variables('OSHash')[parameters('operatingSystem')].imagePublisher)]",
    "imageOffer": "[concat(variables('OSHash')[parameters('operatingSystem')].imageOffer)]",
    "imageSKU": "[concat(variables('OSHash')[parameters('operatingSystem')].imageSKU)]",
    "imageVersion": "[concat(variables('OSHash')[parameters('operatingSystem')].version)]",
    "vnetId": "[resourceId(parameters('vnetRG'),'Microsoft.Network/virtualnetworks',parameters('vnetName'))]",
    "subnetRef": "[concat(variables('vnetId'),'/subnets/',parameters('subnetName'))]"
  },
  "resources": [
    {
      "name": "[concat('DiagnosticStorageAccount-',parameters('vmNamePrefix'))]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2015-01-01",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('storageAccountHash')[parameters('storageAccountOption')].storageTemplateURL,parameters('sasToken'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "storageAccountType": {
            "value": "Standard_LRS"
          },
          "storageAccountCount": {
            "value": 1
          },
          "storageAccountSuffix": {
            "value": "diagnostics"
          },
          "environment": {
            "value": "[parameters('environment')]"
          },
          "buildBy": {
            "value": "[parameters('buildBy')]"
          },
          "buildDate": {
            "value": "[parameters('buildDate')]"
          }
        }
      }
    },
    {
      "name": "[concat('StorageAccount-',parameters('vmNamePrefix'))]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2015-01-01",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('storageAccountHash')[parameters('storageAccountOption')].storageTemplateURL,parameters('sasToken'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "storageAccountType": {
            "value": "[parameters('storageAccountType')]"
          },
          "storageAccountCount": {
            "value": "[parameters('vmCount')]"
          },
          "storageAccountSuffix": {
            "value": "[variables('storageAccountHash')[parameters('storageAccountOption')].storageSuffix ]"
          },
          "startIndex": {
            "value": "[parameters('startIndex')]"
          },
          "environment": {
            "value": "[parameters('environment')]"
          },
          "buildBy": {
            "value": "[parameters('buildBy')]"
          },
          "buildDate": {
            "value": "[parameters('buildDate')]"
          }
        }
      }
    },
    {
      "name": "[concat('AvailabilitySet-',parameters('vmNamePrefix'))]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2015-01-01",
      "dependsOn": [],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('myAvailabilitySetTemplateURL'),parameters('sasToken'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "availabilitySetName": {
            "value": "[parameters('availabilitySetName')]"
          },
          "environment": {
            "value": "[parameters('environment')]"
          },
          "buildBy": {
            "value": "[parameters('buildBy')]"
          },
          "buildDate": {
            "value": "[parameters('buildDate')]"
          }
        }
      }
    },
    {
      "name": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')), '-Nic')]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2015-01-01",
      "dependsOn": [],
      "copy": {
        "name": "nicLoop",
        "count": "[parameters('vmCount')]"
      },
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('LoadBalancerHash')[parameters('lbOption')].nicTemplateURL,parameters('sasToken'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "availabilitySetName": {
            "value": "[parameters('availabilitySetName')]"
          },
          "vmName": {
            "value": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')))]"
          },
          "subnetRef": {
            "value": "[variables('subnetRef')]"
          },
          "dnsNameforPublicIP": {
            "value": "[tolower(parameters('dnsLabel'))]"
          },
          "environment": {
            "value": "[parameters('environment')]"
          },
          "buildBy": {
            "value": "[parameters('buildBy')]"
          },
          "buildDate": {
            "value": "[parameters('buildDate')]"
          }
        }
      }
    },
    {
      "name": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')),'-VM')]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2015-01-01",
      "dependsOn": [
        "[concat('StorageAccount-',parameters('vmNamePrefix'))]",
        "[concat('AvailabilitySet-', parameters('vmNamePrefix'))]",
        "nicLoop"
      ],
      "copy": {
        "name": "VMLoop",
        "count": "[parameters('vmCount')]"
      },
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('myVMTemplateURL'),parameters('sasToken'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "storageAccountName": {
            "value": "[reference(concat('StorageAccount-',parameters('vmNamePrefix'))).outputs.storageAccounts['value'][add(copyIndex(parameters('startIndex')),-1)]]"
          },
          "diagStorageAccount": {
            "value": "[reference(concat('DiagnosticStorageAccount-',parameters('vmNamePrefix'))).outputs.storageAccounts.value[0]]"
          },
          "nicRef": {
            "value": "[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')),'-nic' ))]"
          },
          "vmName": {
            "value": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')))]"
          },
          "vmSize": {
            "value": "[parameters('vmSize')]"
          },
          "sizeOfDataDisksInGB": {
            "value": "[parameters('dataDiskSize')]"
          },
          "numDataDisks": {
            "value": "[parameters('numDataDisks')]"
          },
          "diskCaching": {
            "value": "[parameters('diskCaching')]"
          },
          "adminUsername": {
            "value": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')), '-rack')]"
          },
          "adminPassword": {
            "value": "[parameters('adminPassword')]"
          },
          "availabilitySetName": {
            "value": "[parameters('availabilitySetName')]"
          },
          "imagePublisher": {
            "value": "[variables('imagePublisher')]"
          },
          "imageOffer": {
            "value": "[variables('imageOffer')]"
          },
          "imageSKU": {
            "value": "[variables('imageSKU')]"
          },
          "imageVersion": {
            "value": "[variables('imageVersion')]"
          },
          "RaxAutomationExclude": {
            "value": "[parameters('RaxAutomationExclude')]"
          },
          "environment": {
            "value": "[parameters('environment')]"
          },
          "buildBy": {
            "value": "[parameters('buildBy')]"
          },
          "buildDate": {
            "value": "[parameters('buildDate')]"
          }
        }
      }
    },
    {
      "name": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')),  '-DomainJoin')]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2015-01-01",
      "dependsOn": [
        "VMLoop"
      ],
      "copy": {
        "name": "vmJoinDomain",
        "count": "[parameters('vmCount')]"
      },
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('DomainJoinHash')[parameters('joinADDoamin')].JoinDomainTemplateURL,parameters('sasToken'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "vmName": {
            "value": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')))]"
          },
          "domainToJoin": {
            "value": "[parameters('domainToJoin')]"
          },
          "OUPath": {
            "value": "[parameters('organizationalUnit')]"
          },
          "domainUsername": {
            "value": "[parameters('domainAdminUsername')]"
          },
          "domainPassword": {
            "value": "[parameters('domainAdminPassword')]"
          }
        }
      }
    },
    {
      "name": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')),  '-BGInfo')]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2015-01-01",
      "dependsOn": [
        "vmJoinDomain"
      ],
      "copy": {
        "name": "vmBgInfo",
        "count": "[parameters('vmCount')]"
      },
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('OSHash')[parameters('operatingSystem')].bginfoTemplateURL,parameters('sasToken'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "vmName": {
            "value": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')))]"
          }
        }
      }
    },
    {
      "name": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')),  '-Diagnostics')]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2015-01-01",
      "dependsOn": [
        "vmJoinDomain"
      ],
      "copy": {
        "name": "vmDiagnostics",
        "count": "[parameters('vmCount')]"
      },
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('OSHash')[parameters('operatingSystem')].enableDiagnostics,parameters('sasToken'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "vmName": {
            "value": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')))]"
          },
          "vmDiagnosticsStorageAccountName": {
            "value": "[reference(concat('DiagnosticStorageAccount-',parameters('vmNamePrefix'))).outputs.storageAccounts.value[0]]"
          }
        }
      }
    },
    {
      "name": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')),  '-LogAnalytics')]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2015-01-01",
      "dependsOn": [
        "vmDiagnostics"
      ],
      "copy": {
        "name": "vmLogAnalytics",
        "count": "[parameters('vmCount')]"
      },
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('osHash')[parameters('operatingSystem')].logAnalyticsHash[parameters('logAnalytics')].logAnalytics,parameters('sasToken'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "vmName": {
            "value": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')))]"
          },
          "workspaceId": {
            "value": "[parameters('workspaceId')]"
          },
          "workspaceKey": {
            "value": "[parameters('workspaceKey')]"
          },
          "vmResourceId": {
            "value": "[resourceId('Microsoft.Compute/virtualMachines', concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex'))))]"
          }
        }
      }
    },
    {
      "name": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')),  '-AntiMalware')]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2015-01-01",
      "dependsOn": [
        "vmDiagnostics"
      ],
      "copy": {
        "name": "vmAntiMalware",
        "count": "[parameters('vmCount')]"
      },
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('osHash')[parameters('operatingSystem')].enableAntiMalwareHash[parameters('antiMalware')].AntiMalwareTemplateURL,parameters('sasToken'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "vmName": {
            "value": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')))]"
          }
        }
      }
    },
    {
      "name": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')),  '-CustomizeOS')]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2015-01-01",
      "dependsOn": [
        "vmDiagnostics",
        "vmLogAnalytics",
        "vmBgInfo",
        "vmJoinDomain",
        "vmAntiMalware"
      ],
      "copy": {
        "name": "vmCustomizeOS",
        "count": "[parameters('vmCount')]"
      },
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('OSHash')[parameters('operatingSystem')].customizeOS,parameters('sasToken'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "vmName": {
            "value": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')))]"
          },
          "adminUsername": {
            "value": "[concat(parameters('vmNamePrefix'), copyindex(parameters('startIndex')),'-admin')]"
          },
          "adminPassword": {
            "value": "[parameters('adminPassword')]"
          },
          "timeZone": {
            "value": "[variables('timeZoneHash')[parameters('timeZone')]]"
          },
          "applyOSPatches": {
            "value": "[parameters('applyOSPatches')]"
          },
          "configData": {
            "value": "[variables('webServerHash')[parameters('deployWebServer')].ConfigData]"
          },
          "sasToken": {
            "value": "[parameters('sasToken')]"
          },
          "assetLocation": {
            "value": "[parameters('assetLocation')]"
          },
          "numDataDisks": {
            "value": "[parameters('numDataDisks')]"
          }

        }
      }
    }
  ]
}